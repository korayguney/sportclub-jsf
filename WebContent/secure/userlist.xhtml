<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/templates/admin.xhtml">
	<ui:define name="pageContent">
	
	<div class="alert alert-info" align="center"><h3>User List Page</h3> </div>
		<div class="alert alert-success" align="center">

			<h:form id="addForm">

					<h:form>
						<p:dataTable value="#{userListBean.users}" var="user"
							widgetVar="usersTable">

							<f:facet name="header"> 
				USER LIST 
				 <p:inputText id="globalFilter" onkeyup="PF('usersTable').filter()"
									style="width:150px" placeholder="Enter keyword" />
							</f:facet>

							<p:column headerText="ID" sortBy="#{user.id}" style="width:30px;">
								<h:outputText value="#{user.id}" />
							</p:column>
							<p:column headerText="FIRST NAME" sortBy="#{user.firstname}"
								filterBy="#{user.firstname}">
								<h:outputText value="#{user.firstname}" />
							</p:column>
							<p:column headerText="LAST NAME" sortBy="#{user.lastname}"
								filterBy="#{user.lastname}">
								<h:outputText value="#{user.lastname}" />
							</p:column>
							<p:column headerText="EMAIL" sortBy="#{user.email}"
								filterBy="#{user.email}">
								<h:outputText value="#{user.email}" />
							</p:column>
							<p:column headerText="PHONE NUMBER" sortBy="#{user.phone_num}"
								filterBy="#{user.phone_num}">
								<h:outputText value="#{user.phone_num}" />
							</p:column>
							<p:column headerText="ROLE" sortBy="#{user.role}"
								filterBy="#{user.role}">
								<h:outputText value="#{user.role}" />
							</p:column>

							<p:column headerText="MANAGE USER">

								<p:button href="updateuser.xhtml?userId=#{user.id}"
									value="UPDATE"></p:button>
								<p:commandButton value="DELETE"
									action="#{userListBean.deleteUser(user)}" ajax="false"></p:commandButton>
								<!-- p:commandButton value="HELLO"
					action="#{userListBean.sayHello(user)}" ajax="false"></p:commandButton-->

							</p:column>

							<f:facet name="footer"> 
				There are #{userListBean.users.size()} users on the table.
			</f:facet>

						</p:dataTable>

						<p:messages autoUpdate="true" showDetail="true"></p:messages>
						
					</h:form>

			</h:form>

		</div>	
				
	</ui:define>
</ui:composition>

</html>
